<div v-if="invoice_details">

<div class="my-3">
    <button class="btn btn-outline-info"data-toggle="modal" data-target="#modalInvoiceDetails">Invoice</button>

    <button class="btn btn-outline-danger float-right" @click="mode='table'">Exit</button>
    <button class="btn btn-outline-info float-right mx-2" @click="mode='edit'">Edit</button>
</div>


<div>
    {% verbatim %}
    <h2 v-if="customer_custom.customer_title" class="text-center">{{ customer_custom.customer_title }}</h2>
    <h2 v-else-if="customer_custom.sub_customer" class="text-center">{{ customer_custom.sub_customer }}</h2>
    <h2 v-else class="text-center">{{ customer_main.name }}</h2>
    

    <table class="mt-3 w-100">
        <tr>
            <td class="px-1" style="width: 80px;">INV. NO.</td>
            <td v-if="mode=='edit'" class="px-1" style="width: 200px; background: Cyan;"><input class="form-control text-center p-1" v-model="invoice"></td>
            <td v-else class="p-1 text-center" style="width: 200px; background: Cyan;">{{ invoice }}</td>
            <td class="text-secondary">
                (Drayage INV.)
            </td>
            <td rowspan=2 class="text-primary" style="width: 300px;">
                <template v-if="customer_form[1]=='1_diesel_rate'">DIESEL RATE : {{ diesel_rate }}</template>
                <template v-else-if="customer_form[1]=='1_job_no_out'"><div class="form-inline float-right"><label for="job_no" class="mr-sm-2">JOB NO :</label><input id="job_no" class="form-control text-center p-1 mx-1"></div></template>
                <template v-else-if="customer_form[1]=='1_ap_billing_no'"><div class="form-inline float-right"><label for="ap_billing_no" class="mr-sm-2">AP BILLING NO :</label><input id="ap_billing_no"  class="form-control text-center p-1 mx-1"></div></template>
                <input v-else class="form-control text-center p-1 mx-1">
            </td>
        </tr>
        <!-- <tr>
            <td class="px-1" style="width: 80px;">INV. NO.</td>
            <td class="px-1" style="width: 200px; background: Cyan;"><input class="form-control text-center p-1"></td>
            <td class="text-secondary">(Gate INV.)</td>
        </tr> -->
    </table>
    
    <table class="table table-bordered table-bordered-dark">
        <thead class="text-center">
            <tr>
                <th rowspan=2 class="border-dark align-middle"></th>
                <th rowspan=2 class="border-dark align-middle" style="width: 40px;">Item</th>
                <th rowspan=2 class="border-dark align-middle">
                    Customer Name
                </th>
                <th rowspan=2 class="border-dark align-middle">
                    {{ booking_field[customer_form[0]] }}
                </th>

                <th colspan=2 class="border-dark align-middle py-1">
                    Vessel/Truck Routing
                </th>
                
                <th rowspan=2 class="border-dark align-middle">
                    Date
                </th>
                <th rowspan=2 class="border-dark align-middle">
                    Container No.1
                </th>
                <th rowspan=2 v-if="customer_form.indexOf('container_2') > 0" class="border-dark align-middle">
                    Container No.2
                </th>
                <th rowspan=2 class="border-dark align-middle">
                    Size
                </th>
                <th rowspan=2 class="border-dark align-middle">
                    Drayage Charge
                </th>
                <th rowspan=2 v-if="customer_form.indexOf('gate_charge') > 0" class="border-dark align-middle">
                    Gate Charge
                </th>
                <th rowspan=2 v-if="customer_form.indexOf('date_from') > 0" class="border-dark align-middle">
                    Date From
                </th>
                <th rowspan=2 v-if="customer_form.indexOf('agent') > 0" class="border-dark align-middle">
                    Agent
                </th>
                <th rowspan=2 v-if="customer_form[2]=='2_remark'" class="border-dark align-middle">
                    Remark
                </th>
                <th rowspan=2 v-if="customer_form[2]=='2_job_no'" class="border-dark align-middle">
                    <span class="text-nowrap">Job No.</span>
                </th>
                <th rowspan=2 v-if="customer_form[2]=='2_truck'" class="border-dark align-middle">
                    TRUCK
                </th>
                <th rowspan=2 class="align-middle" v-if="customer_main.work_type=='agent_transport'">
                    NOTE
                </th>
                <th rowspan=2 class="align-middle">
                    NOTE
                </th>
            </tr>
            <tr>
                <th class="border-dark align-middle py-1" style="width: 120px;">
                    From
                </th>
                <th class="border-dark align-middle py-1" style="width: 120px;">
                    To
                </th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td class="text-center">
                    <i class="fa fa-trash"></i>
                </td>
            </tr>
        </tbody>
    </table>
    <!-- <table class="table table-bordered invoice-page">
        <thead class="text-center">
            <tr>
                <th rowspan=2 class="border-dark align-middle" style="width: 40px;">Item</th>
                <th rowspan=2 class="border-dark align-middle">Customer Name</th>
                <th rowspan=2 class="border-dark align-middle">Booking</th>
                <th colspan=2 class="border-dark align-middle">Vessel/Truck Routing</th>
                <th rowspan=2 class="border-dark align-middle">Date</th>
                <th rowspan=2 class="border-dark align-middle">Container No.1</th>
                <th rowspan=2 class="border-dark align-middle">Size</th>
                <th rowspan=2 class="border-dark align-middle">drayage charge</th>
                <th rowspan=2 class="border-dark align-middle">Gate charge</th>
                <th rowspan=2 class="border-dark align-middle">Remark</th>
            </tr>
            <tr>
                <th class="border-dark align-middle">From</th>
                <th class="border-dark align-middle">To</th>
            </tr>

        </thead>

    </table> -->


    {% endverbatim %}

</div>


<div class="modal fade" id="modalInvoiceDetails" tabindex="-1" role="dialog" aria-hidden="true">    
    {% verbatim %}
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 class="modal-title w-100 text-center">Invoice</h2>
                    <button class="close" data-dismiss="modal" aria-label="Close" style="outline: none; ">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body p-5">
                    <div class="input-group mb-3 container">
                        <div class="input-group-prepend">
                            <span class="input-group-text">YEAR</span>
                        </div>
                        <select class="custom-select" v-model="query.year" @change="getWeeks">
                            <option v-for="year in year_list" :value="year.year_label">{{ year.year_label }}</option>
                        </select>
                    </div>
                    <div class="input-group mb-3 container">
                        <div class="input-group-prepend">
                            <span class="input-group-text">WEEK</span>
                        </div>
                        <select class="custom-select" v-model="summary_week_id">
                            <option v-for="week in week_list" :value="week.id">{{ week.week }}</option>
                        </select>
                    </div>
                </div>
                <div class="modal-footer px-5 py-3">
                    <button >Save</button>
                </div>
            </div>
        </div>
    {% endverbatim %}
</div>
</div>